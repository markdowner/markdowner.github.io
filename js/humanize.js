function printPDF(htmlPage) {
  var w = window.open("about:blank");
  w.document.write(htmlPage);
  if (navigator.appName === 'Microsoft Internet Explorer') {
    window.print();
  } else {
    w.print();
  }
}

function nightMode(){
  document.body.style.color = "#fefefe";
  document.body.style.background = "#222";
}

function dismiss (id) {
  document.getElementById(id).style.display = 'none';
}

function markdownHumanize() {
  "use strict";
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();

  var contentInput = document.getElementById('content-input'),
    contentDiv = document.getElementById('content'),
    rawContent = contentInput.value,
    humanizedContent = marked(rawContent),
    toneSelect = document.getElementById('tone-select'),
    tone = toneSelect.options[toneSelect.selectedIndex].value;

  if (humanizedContent.match("/<script[\s\S]*?>[\s\S]*?<\/script>/g")) {
    alert('To protect our users, we do not allow scripts in the markdown; please try again after removing any script tags (or making sure they are in code blocks). If this is an error let us know and we will be happy to help.');
    return;
  }


  contentDiv.innerHTML = humanizedContent;
  contentDiv.innerHTML += "<hr><footer class='attribution'><br><span onclick=\"document.querySelector('.attribution').style.display='none';\">Typeset with</span> <a href='http://markdowner.github.io'> Markdowner</a></span>";
  var settingsHTML = "<aside class='settings' id='settings'>";
  settingsHTML += "<a href='http://markdowner.github.io' class='back-button'>← GO BACK</a><br><br>";
  settingsHTML += "<p>Typesetting tone: <strong>" + tone + "</strong>.</p>";
//  settingsHTML += "<button onClick='nightMode()'>Toggle Night Mode</button>";
  settingsHTML += "<button class='submit-button' onClick='javascript:window.print()'>Print</button><br clear='all'>";
//  settingsHTML += "<button class='submit-button' id='copy-button' data-clipboard-text='"+humanizedContent+"' title='Click to copy me.'>Raw HTML to Clipboard</button>"
  settingsHTML += "<p><em><br><strong>ProTip:</strong> Want to keep a permanent copy of your document? Select “Print to File” in the print dialog to generate &amp; save a .PDF.</em></p>";
  settingsHTML += "<a href='#!' onClick=\"dismiss('settings')\">[X] DISMISS</a>";
  settingsHTML += "</aside>";

  contentDiv.setAttribute("class", "content " + tone + " view");
  document.body.setAttribute("class", "content body-" + tone + " view");

  document.body.innerHTML += settingsHTML;

  // ADD TONE SPECIFIC FONTS

  switch (tone) {
  case "jolly":
    var headHTML = document.getElementsByTagName('head')[0].innerHTML;
    headHTML += '<link rel="stylesheet" href="//brick.a.ssl.fastly.net/Comic+Neue:300,300i,400,400i,700,700i">';
    document.getElementsByTagName('head')[0].innerHTML = headHTML;
    break;
  case "classy":
    var headHTML = document.getElementsByTagName('head')[0].innerHTML;
    headHTML +='<link rel="stylesheet" href="//brick.a.ssl.fastly.net/Source+Serif+Pro:400,700/Source+Sans+Pro:400,900,400i,900i/Alegreya:400i,700i">';
    document.getElementsByTagName('head')[0].innerHTML = headHTML;
    break;
  case "everyday":
    var headHTML = document.getElementsByTagName('head')[0].innerHTML;
    headHTML += '<link rel="stylesheet" href="//brick.a.ssl.fastly.net/Roboto:300,300i,700,700i,900,900i">';
    document.getElementsByTagName('head')[0].innerHTML = headHTML;
    break;
  case "academic":
    var headHTML = document.getElementsByTagName('head')[0].innerHTML;
    headHTML += '<link rel="stylesheet" href="//brick.a.ssl.fastly.net/Latin+Modern+Roman:400,400i,700,700i">';
    document.getElementsByTagName('head')[0].innerHTML = headHTML;
    break;
  case "hipster":
  default:
    console.log("Tone is " + tone);
    break;
  }


  var interfaceElements = document.getElementsByClassName('ui');

  while (interfaceElements[0]) {
    interfaceElements[0].parentNode.removeChild(interfaceElements[0]);
  }


  /*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.0.0-beta.8
 */
!function(a,b){"use strict";var c,d=a,e=d.document,f=d.navigator,g=d.setTimeout,h=d.Number.parseInt||d.parseInt,i=d.Number.parseFloat||d.parseFloat,j=d.Number.isNaN||d.isNaN,k=d.encodeURIComponent,l=d.Array.prototype.slice,m=d.Object.keys,n=d.Object.prototype.hasOwnProperty,o=d.Object.defineProperty,p=d.Math,q=d.Date,r=d.ActiveXObject,s=function(a){return l.call(a,0)},t=function(a,b,c){if("function"==typeof b.indexOf)return b.indexOf(a,c);var d,e=b.length;for("undefined"==typeof c?c=0:0>c&&(c=e+c),d=c;e>d;d++)if(n.call(b,d)&&b[d]===a)return d;return-1},u=function(){var a,c,d,e,f,g,h=s(arguments),i=h[0]||{};for(a=1,c=h.length;c>a;a++)if(null!=(d=h[a]))for(e in d)if(n.call(d,e)){if(f=i[e],g=d[e],i===g)continue;g!==b&&(i[e]=g)}return i},v=function(a){var b,c,d,e;if("object"!=typeof a||null==a)b=a;else if("number"==typeof a.length)for(b=[],c=0,d=a.length;d>c;c++)n.call(a,c)&&(b[c]=v(a[c]));else{b={};for(e in a)n.call(a,e)&&(b[e]=v(a[e]))}return b},w=function(a,b){for(var c={},d=0,e=b.length;e>d;d++)b[d]in a&&(c[b[d]]=a[b[d]]);return c},x=function(a,b){var c={};for(var d in a)-1===t(d,b)&&(c[d]=a[d]);return c},y=function(a){if(null==a)return[];if(m)return m(a);var b=[];for(var c in a)n.call(a,c)&&b.push(c);return b},z=function(a){if(a)for(var b in a)n.call(a,b)&&delete a[b];return a},A=function(a,b){b in a&&"function"==typeof o&&o(a,b,{value:a[b],writable:!1,configurable:!0,enumerable:!0})},B=function(a){return function(){var b;return b=a.now?a.now():(new a).getTime()}}(q),C={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},D="11.0.0",E={},F={},G=null,H={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},I=function(){var a,b,c,d,f="ZeroClipboard.swf";if(!e.currentScript||!(d=e.currentScript.src)){var g=e.getElementsByTagName("script");if("readyState"in g[0])for(a=g.length;a--&&("interactive"!==g[a].readyState||!(d=g[a].src)););else if("loading"===e.readyState)d=g[g.length-1].src;else{for(a=g.length;a--;){if(c=g[a].src,!c){b=null;break}if(c=c.split("#")[0].split("?")[0],c=c.slice(0,c.lastIndexOf("/")+1),null==b)b=c;else if(b!==c){b=null;break}}null!==b&&(d=b)}}return d&&(d=d.split("#")[0].split("?")[0],f=d.slice(0,d.lastIndexOf("/")+1)+f),f}(),J={swfPath:I,trustedDomains:a.location.host?[a.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},K=function(a){if("object"==typeof a&&null!==a)for(var b in a)if(n.call(a,b))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(b))J[b]=a[b];else if(null==C.bridge)if("containerId"===b||"swfObjectId"===b){if(!X(a[b]))throw new Error("The specified `"+b+"` value is not valid as an HTML4 Element ID");J[b]=a[b]}else J[b]=a[b];{if("string"!=typeof a||!a)return v(J);if(n.call(J,a))return J[a]}},L=function(){return{browser:w(f,["userAgent","platform","appName"]),flash:x(C,["bridge"]),zeroclipboard:{version:zb.version,config:zb.config()}}},M=function(){return!!(C.disabled||C.outdated||C.unavailable||C.deactivated)},N=function(a,b){var c,d,e,f={};if("string"==typeof a&&a)e=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)n.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&zb.on(c,a[c]);if(e&&e.length){for(c=0,d=e.length;d>c;c++)a=e[c].replace(/^on/,""),f[a]=!0,E[a]||(E[a]=[]),E[a].push(b);if(f.ready&&C.ready&&zb.emit({type:"ready"}),f.error){var g=["disabled","outdated","unavailable","deactivated","overdue"];for(c=0,d=g.length;d>c;c++)if(C[g[c]]===!0){zb.emit({type:"error",name:"flash-"+g[c]});break}}}return zb},O=function(a,b){var c,d,e,f,g;if(0===arguments.length)f=y(E);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)n.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&zb.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=E[a],g&&g.length)if(b)for(e=t(b,g);-1!==e;)g.splice(e,1),e=t(b,g,e);else g.length=0;return zb},P=function(a){var b;return b="string"==typeof a&&a?v(E[a])||null:v(E)},Q=function(a){var b,c,d;return a=Y(a),a&&!cb(a)?"ready"===a.type&&C.overdue===!0?zb.emit({type:"error",name:"flash-overdue"}):(b=u({},a),bb(b),"copy"===a.type&&(d=ib(F),c=d.data,G=d.formatMap),c):void 0},R=function(){if("boolean"!=typeof C.ready&&(C.ready=!1),!zb.isFlashUnusable()&&null===C.bridge){var a=J.flashLoadTimeout;"number"==typeof a&&a>=0&&g(function(){"boolean"!=typeof C.deactivated&&(C.deactivated=!0),C.deactivated===!0&&zb.emit({type:"error",name:"flash-deactivated"})},a),C.overdue=!1,gb()}},S=function(){zb.clearData(),zb.deactivate(),zb.emit("destroy"),hb(),zb.off()},T=function(a,b){var c;if("object"==typeof a&&a&&"undefined"==typeof b)c=a,zb.clearData();else{if("string"!=typeof a||!a)return;c={},c[a]=b}for(var d in c)"string"==typeof d&&d&&n.call(c,d)&&"string"==typeof c[d]&&c[d]&&(F[d]=c[d])},U=function(a){"undefined"==typeof a?(z(F),G=null):"string"==typeof a&&n.call(F,a)&&delete F[a]},V=function(a){if(a&&1===a.nodeType){c&&(qb(c,J.activeClass),c!==a&&qb(c,J.hoverClass)),c=a,pb(a,J.hoverClass);var b=a.getAttribute("title")||J.title;if("string"==typeof b&&b){var d=fb(C.bridge);d&&d.setAttribute("title",b)}var e=J.forceHandCursor===!0||"pointer"===sb(a,"cursor");wb(e),vb()}},W=function(){var a=fb(C.bridge);a&&(a.removeAttribute("title"),a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.top="1px"),c&&(qb(c,J.hoverClass),qb(c,J.activeClass),c=null)},X=function(a){return"string"==typeof a&&a&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(a)},Y=function(a){var b;if("string"==typeof a&&a?(b=a,a={}):"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(b=a.type),b){u(a,{type:b.toLowerCase(),target:a.target||c||null,relatedTarget:a.relatedTarget||null,currentTarget:C&&C.bridge||null,timeStamp:a.timeStamp||B()||null});var d=H[a.type];return"error"===a.type&&a.name&&d&&(d=d[a.name]),d&&(a.message=d),"ready"===a.type&&u(a,{target:null,version:C.version}),"error"===a.type&&/^flash-(outdated|unavailable|deactivated|overdue)$/.test(a.name)&&u(a,{target:null,version:C.version,minimumVersion:D}),"copy"===a.type&&(a.clipboardData={setData:zb.setData,clearData:zb.clearData}),"aftercopy"===a.type&&(a=jb(a,G)),a.target&&!a.relatedTarget&&(a.relatedTarget=Z(a.target)),$(a)}},Z=function(a){var b=a&&a.getAttribute&&a.getAttribute("data-clipboard-target");return b?e.getElementById(b):null},$=function(a){if(a&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)){var c=a.target,f="_mouseover"===a.type&&a.relatedTarget?a.relatedTarget:b,g="_mouseout"===a.type&&a.relatedTarget?a.relatedTarget:b,h=ub(c),i=d.screenLeft||d.screenX||0,j=d.screenTop||d.screenY||0,k=e.body.scrollLeft+e.documentElement.scrollLeft,l=e.body.scrollTop+e.documentElement.scrollTop,m=h.left+("number"==typeof a._stageX?a._stageX:0),n=h.top+("number"==typeof a._stageY?a._stageY:0),o=m-k,p=n-l,q=i+o,r=j+p,s="number"==typeof a.movementX?a.movementX:0,t="number"==typeof a.movementY?a.movementY:0;delete a._stageX,delete a._stageY,u(a,{srcElement:c,fromElement:f,toElement:g,screenX:q,screenY:r,pageX:m,pageY:n,clientX:o,clientY:p,x:o,y:p,movementX:s,movementY:t,offsetX:0,offsetY:0,layerX:0,layerY:0})}return a},_=function(a){var b=a&&"string"==typeof a.type&&a.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(b)},ab=function(a,b,c,d){d?g(function(){a.apply(b,c)},0):a.apply(b,c)},bb=function(a){if("object"==typeof a&&a&&a.type){var b=_(a),c=E["*"]||[],e=E[a.type]||[],f=c.concat(e);if(f&&f.length){var g,h,i,j,k,l=this;for(g=0,h=f.length;h>g;g++)i=f[g],j=l,"string"==typeof i&&"function"==typeof d[i]&&(i=d[i]),"object"==typeof i&&i&&"function"==typeof i.handleEvent&&(j=i,i=i.handleEvent),"function"==typeof i&&(k=u({},a),ab(i,j,[k],b))}return this}},cb=function(a){var b=a.target||c||null,d="swf"===a._source;switch(delete a._source,a.type){case"error":t(a.name,["flash-disabled","flash-outdated","flash-deactivated","flash-overdue"])&&u(C,{disabled:"flash-disabled"===a.name,outdated:"flash-outdated"===a.name,unavailable:"flash-unavailable"===a.name,deactivated:"flash-deactivated"===a.name,overdue:"flash-overdue"===a.name,ready:!1});break;case"ready":var e=C.deactivated===!0;u(C,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:e,ready:!e});break;case"copy":var f,g,h=a.relatedTarget;!F["text/html"]&&!F["text/plain"]&&h&&(g=h.value||h.outerHTML||h.innerHTML)&&(f=h.value||h.textContent||h.innerText)?(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",f),g!==f&&a.clipboardData.setData("text/html",g)):!F["text/plain"]&&a.target&&(f=a.target.getAttribute("data-clipboard-text"))&&(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",f));break;case"aftercopy":zb.clearData(),b&&b!==ob()&&b.focus&&b.focus();break;case"_mouseover":zb.activate(b),J.bubbleEvents===!0&&d&&(db(u({},a,{type:"mouseover"})),db(u({},a,{type:"mouseenter",bubbles:!1})));break;case"_mouseout":zb.deactivate(),J.bubbleEvents===!0&&d&&(db(u({},a,{type:"mouseout"})),db(u({},a,{type:"mouseleave",bubbles:!1})));break;case"_mousedown":pb(b,J.activeClass),J.bubbleEvents===!0&&d&&db(u({},a,{type:a.type.slice(1)}));break;case"_mouseup":qb(b,J.activeClass),J.bubbleEvents===!0&&d&&db(u({},a,{type:a.type.slice(1)}));break;case"_click":case"_mousemove":J.bubbleEvents===!0&&d&&db(u({},a,{type:a.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)?!0:void 0},db=function(a){if(a&&"string"==typeof a.type&&a){var b,c=a.target||a.srcElement||null,f=c&&c.ownerDocument||e,g={view:f.defaultView||d,canBubble:!0,cancelable:!0,detail:"click"===a.type?1:0,button:"number"==typeof a.which?a.which-1:"number"==typeof a.button?a.button:f.createEvent?0:1},h=u(g,a);c&&(f.createEvent&&c.dispatchEvent?(h=[h.type,h.canBubble,h.cancelable,h.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget],b=f.createEvent("MouseEvents"),b.initMouseEvent&&(b.initMouseEvent.apply(b,h),c.dispatchEvent(b))):f.createEventObject&&c.fireEvent&&(b=f.createEventObject(h),c.fireEvent("on"+h.type,b)))}},eb=function(){var a=e.createElement("div");return a.id=J.containerId,a.className=J.containerClass,a.style.position="absolute",a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px",a.style.zIndex=""+xb(J.zIndex),a},fb=function(a){for(var b=a&&a.parentNode;b&&"OBJECT"===b.nodeName&&b.parentNode;)b=b.parentNode;return b||null},gb=function(){var a,b=C.bridge,c=fb(b);if(!b){var f=nb(d.location.host,J),g="never"===f?"none":"all",h=lb(J),i=J.swfPath+kb(J.swfPath,J);c=eb();var j=e.createElement("div");c.appendChild(j),e.body.appendChild(c);var k=e.createElement("div"),l="activex"===C.pluginType;k.innerHTML='<object id="'+J.swfObjectId+'" name="'+J.swfObjectId+'" width="100%" height="100%" '+(l?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+i+'"')+">"+(l?'<param name="movie" value="'+i+'"/>':"")+'<param name="allowScriptAccess" value="'+f+'"/><param name="allowNetworking" value="'+g+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+h+'"/></object>',b=k.firstChild,k=null,b.ZeroClipboard=zb,c.replaceChild(b,j)}return b||(b=e[J.swfObjectId],b&&(a=b.length)&&(b=b[a-1]),!b&&c&&(b=c.firstChild)),C.bridge=b||null,b},hb=function(){var a=C.bridge;if(a){var b=fb(a);b&&("activex"===C.pluginType&&"readyState"in a?(a.style.display="none",function c(){if(4===a.readyState){for(var d in a)"function"==typeof a[d]&&(a[d]=null);a.parentNode&&a.parentNode.removeChild(a),b.parentNode&&b.parentNode.removeChild(b)}else g(c,10)}()):(a.parentNode&&a.parentNode.removeChild(a),b.parentNode&&b.parentNode.removeChild(b))),C.ready=null,C.bridge=null,C.deactivated=null}},ib=function(a){var b={},c={};if("object"==typeof a&&a){for(var d in a)if(d&&n.call(a,d)&&"string"==typeof a[d]&&a[d])switch(d.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":b.text=a[d],c.text=d;break;case"text/html":case"html":case"air:html":case"flash:html":b.html=a[d],c.html=d;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":b.rtf=a[d],c.rtf=d}return{data:b,formatMap:c}}},jb=function(a,b){if("object"!=typeof a||!a||"object"!=typeof b||!b)return a;var c={};for(var d in a)if(n.call(a,d)){if("success"!==d&&"data"!==d){c[d]=a[d];continue}c[d]={};var e=a[d];for(var f in e)f&&n.call(e,f)&&n.call(b,f)&&(c[d][b[f]]=e[f])}return c},kb=function(a,b){var c=null==b||b&&b.cacheBust===!0;return c?(-1===a.indexOf("?")?"?":"&")+"noCache="+B():""},lb=function(a){var b,c,e,f,g="",h=[];if(a.trustedDomains&&("string"==typeof a.trustedDomains?f=[a.trustedDomains]:"object"==typeof a.trustedDomains&&"length"in a.trustedDomains&&(f=a.trustedDomains)),f&&f.length)for(b=0,c=f.length;c>b;b++)if(n.call(f,b)&&f[b]&&"string"==typeof f[b]){if(e=mb(f[b]),!e)continue;if("*"===e){h=[e];break}h.push.apply(h,[e,"//"+e,d.location.protocol+"//"+e])}return h.length&&(g+="trustedOrigins="+k(h.join(","))),a.forceEnhancedClipboard===!0&&(g+=(g?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof a.swfObjectId&&a.swfObjectId&&(g+=(g?"&":"")+"swfObjectId="+k(a.swfObjectId)),g},mb=function(a){if(null==a||""===a)return null;if(a=a.replace(/^\s+|\s+$/g,""),""===a)return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var c=a.indexOf("/");return a=-1===c?a:-1===b||0===c?null:a.slice(0,c),a&&".swf"===a.slice(-4).toLowerCase()?null:a||null},nb=function(){var a=function(a,b){var c,d,e;if(null!=a&&"*"!==b[0]&&("string"==typeof a&&(a=[a]),"object"==typeof a&&"number"==typeof a.length))for(c=0,d=a.length;d>c;c++)if(n.call(a,c)&&(e=mb(a[c]))){if("*"===e){b.length=0,b.push("*");break}-1===t(e,b)&&b.push(e)}};return function(b,c){var d=mb(c.swfPath);null===d&&(d=b);var e=[];a(c.trustedOrigins,e),a(c.trustedDomains,e);var f=e.length;if(f>0){if(1===f&&"*"===e[0])return"always";if(-1!==t(b,e))return 1===f&&b===d?"sameDomain":"always"}return"never"}}(),ob=function(){try{return e.activeElement}catch(a){return null}},pb=function(a,b){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(b)||a.classList.add(b),a;if(b&&"string"==typeof b){var c=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var d=" "+a.className+" ",e=a.className,f=0,g=c.length;g>f;f++)d.indexOf(" "+c[f]+" ")<0&&(e+=" "+c[f]);a.className=e.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},qb=function(a,b){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(b)&&a.classList.remove(b),a;if("string"==typeof b&&b){var c=b.split(/\s+/);if(1===a.nodeType&&a.className){for(var d=(" "+a.className+" ").replace(/[\n\t]/g," "),e=0,f=c.length;f>e;e++)d=d.replace(" "+c[e]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}}return a},rb=function(){var a=/\-([a-z])/g,b=function(a,b){return b.toUpperCase()};return function(c){return c.replace(a,b)}}(),sb=function(a,b){var c,e,f;return d.getComputedStyle?c=d.getComputedStyle(a,null).getPropertyValue(b):(e=rb(b),c=a.currentStyle?a.currentStyle[e]:a.style[e]),"cursor"!==b||c&&"auto"!==c||(f=a.tagName.toLowerCase(),"a"!==f)?c:"pointer"},tb=function(){var a,b,c,d=1;return"function"==typeof e.body.getBoundingClientRect&&(a=e.body.getBoundingClientRect(),b=a.right-a.left,c=e.body.offsetWidth,d=p.round(b/c*100)/100),d},ub=function(a){var b={left:0,top:0,width:0,height:0};if(a.getBoundingClientRect){var c,f,g,h=a.getBoundingClientRect();"pageXOffset"in d&&"pageYOffset"in d?(c=d.pageXOffset,f=d.pageYOffset):(g=tb(),c=p.round(e.documentElement.scrollLeft/g),f=p.round(e.documentElement.scrollTop/g));var i=e.documentElement.clientLeft||0,j=e.documentElement.clientTop||0;b.left=h.left+c-i,b.top=h.top+f-j,b.width="width"in h?h.width:h.right-h.left,b.height="height"in h?h.height:h.bottom-h.top}return b},vb=function(){var a;if(c&&(a=fb(C.bridge))){var b=ub(c);u(a.style,{width:b.width+"px",height:b.height+"px",top:b.top+"px",left:b.left+"px",zIndex:""+xb(J.zIndex)})}},wb=function(a){C.ready===!0&&(C.bridge&&"function"==typeof C.bridge.setHandCursor?C.bridge.setHandCursor(a):C.ready=!1)},xb=function(a){if(/^(?:auto|inherit)$/.test(a))return a;var b;return"number"!=typeof a||j(a)?"string"==typeof a&&(b=xb(h(a,10))):b=a,"number"==typeof b?b:"auto"},yb=function(a){function b(a){var b=a.match(/[\d]+/g);return b.length=3,b.join(".")}function c(a){return!!a&&(a=a.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(a)||"chrome.plugin"===a.slice(-13))}function d(a){a&&(j=!0,a.version&&(m=b(a.version)),!m&&a.description&&(m=b(a.description)),a.filename&&(l=c(a.filename)))}var e,g,h,j=!1,k=!1,l=!1,m="";if(f.plugins&&f.plugins.length)e=f.plugins["Shockwave Flash"],d(e),f.plugins["Shockwave Flash 2.0"]&&(j=!0,m="2.0.0.11");else if(f.mimeTypes&&f.mimeTypes.length)h=f.mimeTypes["application/x-shockwave-flash"],e=h&&h.enabledPlugin,d(e);else if("undefined"!=typeof a){k=!0;try{g=new a("ShockwaveFlash.ShockwaveFlash.7"),j=!0,m=b(g.GetVariable("$version"))}catch(n){try{g=new a("ShockwaveFlash.ShockwaveFlash.6"),j=!0,m="6.0.21"}catch(o){try{g=new a("ShockwaveFlash.ShockwaveFlash"),j=!0,m=b(g.GetVariable("$version"))}catch(p){k=!1}}}}C.disabled=j!==!0,C.outdated=m&&i(m)<i(D),C.version=m||"0.0.0",C.pluginType=l?"pepper":k?"activex":j?"netscape":"unknown"};yb(r);var zb=function(){return this instanceof zb?void("function"==typeof zb._createClient&&zb._createClient.apply(this,s(arguments))):new zb};zb.version="2.0.0-beta.8",A(zb,"version"),zb.config=function(){return K.apply(this,s(arguments))},zb.state=function(){return L.apply(this,s(arguments))},zb.isFlashUnusable=function(){return M.apply(this,s(arguments))},zb.on=function(){return N.apply(this,s(arguments))},zb.off=function(){return O.apply(this,s(arguments))},zb.handlers=function(){return P.apply(this,s(arguments))},zb.emit=function(){return Q.apply(this,s(arguments))},zb.create=function(){return R.apply(this,s(arguments))},zb.destroy=function(){return S.apply(this,s(arguments))},zb.setData=function(){return T.apply(this,s(arguments))},zb.clearData=function(){return U.apply(this,s(arguments))},zb.activate=function(){return V.apply(this,s(arguments))},zb.deactivate=function(){return W.apply(this,s(arguments))};var Ab=0,Bb={},Cb=0,Db={},Eb={};u(J,{autoActivate:!0});var Fb=function(a){var b=this;b.id=""+Ab++,Bb[b.id]={instance:b,elements:[],handlers:{}},a&&b.clip(a),zb.on("*",function(a){return b.emit(a)}),zb.on("destroy",function(){b.destroy()}),zb.create()},Gb=function(a,b){var c,d,e,f={},g=Bb[this.id]&&Bb[this.id].handlers;if("string"==typeof a&&a)e=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)n.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&this.on(c,a[c]);if(e&&e.length){for(c=0,d=e.length;d>c;c++)a=e[c].replace(/^on/,""),f[a]=!0,g[a]||(g[a]=[]),g[a].push(b);if(f.ready&&C.ready&&this.emit({type:"ready",client:this}),f.error){var h=["disabled","outdated","unavailable","deactivated","overdue"];for(c=0,d=h.length;d>c;c++)if(C[h[c]]){this.emit({type:"error",name:"flash-"+h[c],client:this});break}}}return this},Hb=function(a,b){var c,d,e,f,g,h=Bb[this.id]&&Bb[this.id].handlers;if(0===arguments.length)f=y(h);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)n.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&this.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=h[a],g&&g.length)if(b)for(e=t(b,g);-1!==e;)g.splice(e,1),e=t(b,g,e);else g.length=0;return this},Ib=function(a){var b=null,c=Bb[this.id]&&Bb[this.id].handlers;return c&&(b="string"==typeof a&&a?c[a]?c[a].slice(0):[]:v(c)),b},Jb=function(a){if(Ob.call(this,a)){"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(a=u({},a));var b=u({},Y(a),{client:this});Pb.call(this,b)}return this},Kb=function(a){a=Qb(a);for(var b=0;b<a.length;b++)if(n.call(a,b)&&a[b]&&1===a[b].nodeType){a[b].zcClippingId?-1===t(this.id,Db[a[b].zcClippingId])&&Db[a[b].zcClippingId].push(this.id):(a[b].zcClippingId="zcClippingId_"+Cb++,Db[a[b].zcClippingId]=[this.id],J.autoActivate===!0&&Tb(a[b]));var c=Bb[this.id]&&Bb[this.id].elements;-1===t(a[b],c)&&c.push(a[b])}return this},Lb=function(a){var b=Bb[this.id];if(!b)return this;var c,d=b.elements;a="undefined"==typeof a?d.slice(0):Qb(a);for(var e=a.length;e--;)if(n.call(a,e)&&a[e]&&1===a[e].nodeType){for(c=0;-1!==(c=t(a[e],d,c));)d.splice(c,1);var f=Db[a[e].zcClippingId];if(f){for(c=0;-1!==(c=t(this.id,f,c));)f.splice(c,1);0===f.length&&(J.autoActivate===!0&&Ub(a[e]),delete a[e].zcClippingId)}}return this},Mb=function(){var a=Bb[this.id];return a&&a.elements?a.elements.slice(0):[]},Nb=function(){this.unclip(),this.off(),delete Bb[this.id]},Ob=function(a){if(!a||!a.type)return!1;if(a.client&&a.client!==this)return!1;var b=Bb[this.id]&&Bb[this.id].elements,c=!!b&&b.length>0,d=!a.target||c&&-1!==t(a.target,b),e=a.relatedTarget&&c&&-1!==t(a.relatedTarget,b),f=a.client&&a.client===this;return d||e||f?!0:!1},Pb=function(a){if("object"==typeof a&&a&&a.type){var b=_(a),c=Bb[this.id]&&Bb[this.id].handlers["*"]||[],e=Bb[this.id]&&Bb[this.id].handlers[a.type]||[],f=c.concat(e);if(f&&f.length){var g,h,i,j,k,l=this;for(g=0,h=f.length;h>g;g++)i=f[g],j=l,"string"==typeof i&&"function"==typeof d[i]&&(i=d[i]),"object"==typeof i&&i&&"function"==typeof i.handleEvent&&(j=i,i=i.handleEvent),"function"==typeof i&&(k=u({},a),ab(i,j,[k],b))}return this}},Qb=function(a){return"string"==typeof a&&(a=[]),"number"!=typeof a.length?[a]:a},Rb=function(a,b,c){return a&&1===a.nodeType?(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c),a):a},Sb=function(a,b,c){return a&&1===a.nodeType?(a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c),a):a},Tb=function(a){if(a&&1===a.nodeType){var b=function(b){(b||d.event)&&zb.activate(a)};Rb(a,"mouseover",b),Eb[a.zcClippingId]={mouseover:b}}},Ub=function(a){if(a&&1===a.nodeType){var b=Eb[a.zcClippingId];"object"==typeof b&&b&&("function"==typeof b.mouseover&&Sb(a,"mouseover",b.mouseover),delete Eb[a.zcClippingId])}};zb._createClient=function(){Fb.apply(this,s(arguments))},zb.prototype.on=function(){return Gb.apply(this,s(arguments))},zb.prototype.off=function(){return Hb.apply(this,s(arguments))},zb.prototype.handlers=function(){return Ib.apply(this,s(arguments))},zb.prototype.emit=function(){return Jb.apply(this,s(arguments))},zb.prototype.clip=function(){return Kb.apply(this,s(arguments))},zb.prototype.unclip=function(){return Lb.apply(this,s(arguments))},zb.prototype.elements=function(){return Mb.apply(this,s(arguments))},zb.prototype.destroy=function(){return Nb.apply(this,s(arguments))},zb.prototype.setText=function(a){return zb.setData("text/plain",a),this},zb.prototype.setHtml=function(a){return zb.setData("text/html",a),this},zb.prototype.setRichText=function(a){return zb.setData("application/rtf",a),this},zb.prototype.setData=function(){return zb.setData.apply(this,s(arguments)),this},zb.prototype.clearData=function(){return zb.clearData.apply(this,s(arguments)),this},"function"==typeof define&&define.amd?define(function(){return zb}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=zb:a.ZeroClipboard=zb}(function(){return this}());
//# sourceMappingURL=ZeroClipboard.min.map
var client = new ZeroClipboard( document.getElementById("copy-button") );

client.on( "ready", function( readyEvent ) {
  // alert( "ZeroClipboard SWF is ready!" );

  client.on( "aftercopy", function( event ) {
    // `this` === `client`
    // `event.target` === the element that was clicked
    event.target.style.display = "none";
    alert("Copied text to clipboard: " + event.data["text/plain"] );
  } );
} );
} // END MARKDOWN HUMANIZE FUNCTION


/*!
 * CSS Modal
 * http://drublic.github.com/css-modal
 *
 * @author Hans Christian Reinl - @drublic
 * @version 1.0.3
 */
!function(e){"use strict";var t={};t.lastActive=void 0,t.activeElement=void 0,t._addEventListener=function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent("on"+t,a)},t._addEventListener(document,"keyup",function(e){var a=window.location.hash.replace("#","");if(""!==a&&"!"!==a&&27===e.keyCode){if(window.location.hash="!",t.lastActive)return!1;t.removeFocus()}},!1),t._dispatchEvent=function(e,t){var a;document.createEvent&&(a=document.createEvent("Event"),a.initEvent(e,!0,!0),a.customData={modal:t},document.dispatchEvent(a))},t.mainHandler=function(){var e,a,n=window.location.hash.replace("#",""),c=document.getElementById(n),i=document.documentElement.className;c?(e=c.children[0],e&&e.className.match(/modal-inner/)&&(i.match(/has-overlay/)||(document.documentElement.className+=" has-overlay"),t.activeElement&&(a=t.activeElement,a.className=a.className.replace(" is-active","")),c.className+=" is-active",t.activeElement=c,t.setFocus(n),t._dispatchEvent("cssmodal:show",t.activeElement))):(document.documentElement.className=i.replace(" has-overlay",""),t.activeElement&&(t.activeElement.className=t.activeElement.className.replace(" is-active",""),t._dispatchEvent("cssmodal:hide",t.activeElement),t.activeElement=null,t.removeFocus()))},t._addEventListener(window,"hashchange",t.mainHandler),t._addEventListener(window,"load",t.mainHandler),t.setFocus=function(){t.activeElement&&(t.lastActive=document.activeElement,t.activeElement.focus())},t.removeFocus=function(){t.lastActive&&t.lastActive.focus()},e.CSSModal=t}(window);


// Share.js
!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Share=e()}}(function(){var define,module,exports;
function getStyles(config){ return ""+config.selector+"{width:92px;height:20px;-webkit-touch-callout:none;-khtml-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"+config.selector+" [class*=entypo-]:before{font-family:entypo,sans-serif}"+config.selector+" label{font-size:16px;cursor:pointer;margin:0;padding:5px 10px;border-radius:5px;background:#a29baa;color:#333;-webkit-transition:all .3s ease;transition:all .3s ease}"+config.selector+" label:hover{opacity:.8}"+config.selector+" label span{text-transform:uppercase;font-size:.9em;font-family:Lato,sans-serif;font-weight:700;-webkit-font-smoothing:antialiased;padding-left:6px}"+config.selector+" .social{opacity:0;-webkit-transition:all .4s ease;transition:all .4s ease;margin-left:-15px;visibility:hidden}"+config.selector+" .social.top{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;margin-top:-80px}"+config.selector+" .social.bottom{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;margin-top:5px}"+config.selector+" .social.middle{margin-top:-34px}"+config.selector+" .social.middle.right{-webkit-transform-origin:5% 50%;-ms-transform-origin:5% 50%;transform-origin:5% 50%;margin-left:105px}"+config.selector+" .social.middle.left{-webkit-transform-origin:5% 50%;-ms-transform-origin:5% 50%;transform-origin:5% 50%}"+config.selector+" .social.right{margin-left:14px}"+config.selector+" .social.load{-webkit-transition:none!important;transition:none!important}"+config.selector+" .social.networks-1{width:60px}"+config.selector+" .social.networks-1.center,"+config.selector+" .social.networks-1.left{margin-left:14px}"+config.selector+" .social.networks-1.middle.left{margin-left:-70px}"+config.selector+" .social.networks-1 ul{width:60px}"+config.selector+" .social.networks-2{width:120px}"+config.selector+" .social.networks-2.center{margin-left:-13px}"+config.selector+" .social.networks-2.left{margin-left:-44px}"+config.selector+" .social.networks-2.middle.left{margin-left:-130px}"+config.selector+" .social.networks-2 ul{width:120px}"+config.selector+" .social.networks-3{width:180px}"+config.selector+" .social.networks-3.center{margin-left:-45px}"+config.selector+" .social.networks-3.left{margin-left:-102px}"+config.selector+" .social.networks-3.middle.left{margin-left:-190px}"+config.selector+" .social.networks-3 ul{width:180px}"+config.selector+" .social.networks-4{width:240px}"+config.selector+" .social.networks-4.center{margin-left:-75px}"+config.selector+" .social.networks-4.left{margin-left:162px}"+config.selector+" .social.networks-4.middle.left{margin-left:-250px}"+config.selector+" .social.networks-4 ul{width:240px}"+config.selector+" .social.networks-5{width:300px}"+config.selector+" .social.networks-5.center{margin-left:-105px}"+config.selector+" .social.networks-5.left{margin-left:-225px}"+config.selector+" .social.networks-5.middle.left{margin-left:-320px}"+config.selector+" .social.networks-5 ul{width:300px}"+config.selector+" .social.active{opacity:1;-webkit-transition:all .4s ease;transition:all .4s ease;visibility:visible}"+config.selector+" .social.active.top{-webkit-transform:scale(1) translateY(-10px);-ms-transform:scale(1) translateY(-10px);transform:scale(1) translateY(-10px)}"+config.selector+" .social.active.bottom{-webkit-transform:scale(1) translateY(15px);-ms-transform:scale(1) translateY(15px);transform:scale(1) translateY(15px)}"+config.selector+" .social.active.middle.right{-webkit-transform:scale(1) translateX(10px);-ms-transform:scale(1) translateX(10px);transform:scale(1) translateX(10px)}"+config.selector+" .social.active.middle.left{-webkit-transform:scale(1) translateX(-10px);-ms-transform:scale(1) translateX(-10px);transform:scale(1) translateX(-10px)}"+config.selector+" .social ul{position:relative;left:0;right:0;height:46px;color:#fff;margin:auto;padding:0;list-style:none}"+config.selector+" .social ul li{font-size:20px;cursor:pointer;width:60px;margin:0;padding:12px 0;text-align:center;float:left;display:none;height:22px;position:relative;z-index:2;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transition:all .3s ease;transition:all .3s ease}"+config.selector+" .social ul li:hover{color:rgba(0,0,0,.5)}"+config.selector+" .social li[class*=facebook]{background:#3b5998;display:"+config.networks.facebook.display+"}"+config.selector+" .social li[class*=twitter]{background:#6cdfea;display:"+config.networks.twitter.display+"}"+config.selector+" .social li[class*=gplus]{background:#e34429;display:"+config.networks.google_plus.display+"}"+config.selector+" .social li[class*=pinterest]{background:#c5282f;display:"+config.networks.pinterest.display+"}"+config.selector+" .social li[class*=paper-plane]{background:#42c5b0;display:"+config.networks.email.display+"}"};var ShareUtils;"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var t,e,o;return o=function(t){return function(o){var n,i;n=e.className.split(/\s+/),i=n.indexOf(o),t(n,i,o),e.className=n.join(" ")}},e=this,t={add:o(function(t,e,o){~e||t.push(o)}),remove:o(function(t,e){~e&&t.splice(e,1)}),toggle:o(function(t,e,o){~e?t.splice(e,1):t.push(o)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}},Object.defineProperty(t,"length",{get:function(){return e.className.split(/\s+/).length}}),t}}),ShareUtils=function(){function t(){}return t.prototype.extend=function(t,e,o){var n,i;for(i in e)n=void 0!==t[i],n&&"object"==typeof e[i]?this.extend(t[i],e[i],o):(o||!n)&&(t[i]=e[i])},t.prototype.hide=function(t){return t.style.display="none"},t.prototype.show=function(t){return t.style.display="block"},t.prototype.has_class=function(t,e){return t.classList.contains(e)},t.prototype.add_class=function(t,e){return t.classList.add(e)},t.prototype.remove_class=function(t,e){return t.classList.remove(e)},t.prototype.is_encoded=function(t){return decodeURIComponent(t)!==t},t.prototype.encode=function(t){return this.is_encoded(t)?t:encodeURIComponent(t)},t.prototype.popup=function(t,e){var o,n,i,r;return null==e&&(e={}),n={width:500,height:350},n.top=screen.height/2-n.height/2,n.left=screen.width/2-n.width/2,i=function(){var t;t=[];for(o in e)r=e[o],t.push(""+o+"="+this.encode(r));return t}.call(this).join("&"),i&&(i="?"+i),window.open(t+i,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+n.left+",top="+n.top+",width="+n.width+",height="+n.height)},t}();var Share,__hasProp={}.hasOwnProperty,__extends=function(t,e){function o(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t};Share=function(t){function e(t,e){var o;return this.element=t,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",url:window.location.href,caption:null,title:(o=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?o.getAttribute("content"):(o=document.querySelector("title"))?o.innerText:void 0,image:(o=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?o.getAttribute("content"):void 0,description:(o=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?o.getAttribute("content"):"",ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{google_plus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},email:{enabled:!0,title:null,description:null}}},this.setup(t,e),this}return __extends(e,t),e.prototype.setup=function(t,e){var o,n,i,r,s;for(i=document.querySelectorAll(t),this.extend(this.config,e,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.ui.icon_font&&this.inject_icons(),this.config.ui.button_font&&this.inject_fonts(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk(),o=r=0,s=i.length;s>r;o=++r)n=i[o],this.setup_instance(t,o)},e.prototype.setup_instance=function(t,e){var o,n,i,r,s,c,l,a,p=this;for(n=document.querySelectorAll(t)[e],this.hide(n),this.add_class(n,"sharer-"+e),n=document.querySelectorAll(t)[e],this.inject_css(n),this.inject_html(n),this.show(n),i=n.getElementsByTagName("label")[0],o=n.getElementsByClassName("social")[0],s=n.getElementsByTagName("li"),this.add_class(o,"networks-"+this.config.enabled_networks),i.addEventListener("click",function(){return p.event_toggle(o)}),p=this,a=[],e=c=0,l=s.length;l>c;e=++c)r=s[e],a.push(r.addEventListener("click",function(){return p.event_network(n,this),p.event_close(o)}));return a},e.prototype.event_toggle=function(t){return this.has_class(t,"active")?this.event_close(t):this.event_open(t)},e.prototype.event_open=function(t){return this.has_class(t,"load")&&this.remove_class(t,"load"),this.add_class(t,"active")},e.prototype.event_close=function(t){return this.remove_class(t,"active")},e.prototype.event_network=function(t,e){var o;return o=e.getAttribute("data-network"),this.hook("before",o,t),this["network_"+o](),this.hook("after",o,t)},e.prototype.open=function(){return this["public"]("open")},e.prototype.close=function(){return this["public"]("close")},e.prototype.toggle=function(){return this["public"]("toggle")},e.prototype["public"]=function(t){var e,o,n,i,r,s,c;for(s=document.querySelectorAll(this.element),c=[],o=i=0,r=s.length;r>i;o=++i)n=s[o],e=n.getElementsByClassName("social")[0],c.push(this["event_"+t](e));return c},e.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},e.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})},e.prototype.network_google_plus=function(){return this.popup("https://plus.google.com/share",{url:this.config.networks.google_plus.url})},e.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},e.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description})},e.prototype.inject_icons=function(){return this.inject_stylesheet("https://www.sharebutton.co/fonts/v2/entypo.min.css")},e.prototype.inject_fonts=function(){return this.inject_stylesheet("http://fonts.googleapis.com/css?family=Lato:900&text="+this.config.ui.button_text)},e.prototype.inject_stylesheet=function(t){var e;return this.el.head.querySelector('link[href="'+t+'"]')?void 0:(e=document.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),this.el.head.appendChild(e))},e.prototype.inject_css=function(t){var e,o,n,i;return n="."+t.getAttribute("class").split(" ").join("."),this.el.head.querySelector("meta[name='sharer"+n+"']")?void 0:(this.config.selector=n,e=getStyles(this.config),i=document.createElement("style"),i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),this.el.head.appendChild(i),delete this.config.selector,o=document.createElement("meta"),o.setAttribute("name","sharer"+n),this.el.head.appendChild(o))},e.prototype.inject_html=function(t){return t.innerHTML="<label class='entypo-export'><span>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='entypo-pinterest' data-network='pinterest'></li><li class='entypo-twitter' data-network='twitter'></li><li class='entypo-facebook' data-network='facebook'></li><li class='entypo-gplus' data-network='google_plus'></li><li class='entypo-paper-plane' data-network='email'></li></ul></div>"},e.prototype.inject_facebook_sdk=function(){var t,e;return window.FB||!this.config.networks.facebook.app_id||this.el.body.querySelector("#fb-root")?void 0:(e=document.createElement("script"),e.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",t=document.createElement("div"),t.id="fb-root",this.el.body.appendChild(t),this.el.body.appendChild(e))},e.prototype.hook=function(t,e,o){var n,i;n=this.config.networks[e][t],"function"==typeof n&&(i=n.call(this.config.networks[e],o),void 0!==i&&(i=this.normalize_filter_config_updates(i),this.extend(this.config.networks[e],i,!0),this.normalize_network_configuration()))},e.prototype.set_global_configuration=function(){var t,e,o,n,i,r;i=this.config.networks,r=[];for(e in i){n=i[e];for(o in n)null==this.config.networks[e][o]&&(this.config.networks[e][o]=this.config[o]);this.config.networks[e].enabled?(t="block",this.config.enabled_networks+=1):t="none",r.push(this.config.networks[e].display=t)}return r},e.prototype.normalize_network_configuration=function(){return this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description)),"integer"==typeof this.config.networks.facebook.app_id?this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString():void 0},e.prototype.normalize_filter_config_updates=function(t){return this.config.networks.facebook.app_id!==t.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please update your Facebook filters accordingly."),delete t.app_id),this.config.networks.facebook.load_sdk!==t.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete t.app_id),t},e}(ShareUtils); return Share;
});



